<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Letter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>      
<body>
    
  <section id="letter" class="min-h-screen flex items-center justify-center py-8 xs:py-12 sm:py-16 md:py-20 px-1 xs:px-2 sm:px-4">
        <div class="w-full max-w-xs xs:max-w-sm sm:max-w-2xl md:max-w-4xl mx-auto">
            <div class="bg-white/90 backdrop-blur-sm rounded-lg xs:rounded-xl sm:rounded-2xl md:rounded-3xl shadow-2xl p-2 xs:p-3 sm:p-4 md:p-6 lg:p-8 xl:p-12 border xs:border-2 sm:border-4 border-purple-200 relative animate-scale-in">
                <div class="absolute -top-2 xs:-top-3 sm:-top-4 md:-top-6 left-1/2 transform -translate-x-1/2 bg-pink-500 rounded-full p-1 xs:p-2 sm:p-3 md:p-4 animate-bounce-gentle text-xs xs:text-sm sm:text-base">ðŸ’•</div>
                <div class="absolute top-1 xs:top-2 sm:top-4 right-1 xs:right-2 sm:right-4 text-purple-300 text-lg xs:text-xl sm:text-2xl md:text-4xl lg:text-6xl opacity-20 animate-spin-slow">ðŸŒº</div>
                <div class="absolute bottom-1 xs:bottom-2 sm:bottom-4 left-1 xs:left-2 sm:left-4 text-purple-300 text-lg xs:text-xl sm:text-2xl md:text-4xl lg:text-6xl opacity-20 animate-spin-slow-reverse">ðŸŒº</div>

                <h2 class="text-lg xs:text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-script text-center text-purple-600 mb-3 xs:mb-4 sm:mb-6 md:mb-8 animate-fade-in">
                    A Letter From My Heart
                </h2>
                <div id="typewriter-text" class="text-xs xs:text-sm sm:text-base md:text-lg lg:text-xl text-teal-700 leading-relaxed font-serif min-h-[200px] xs:min-h-[250px] sm:min-h-[300px] md:min-h-[400px]">
                    <span id="cursor" class="animate-pulse">|</span>
                </div>
                <div class="text-right mt-3 xs:mt-4 sm:mt-6 md:mt-8 animate-fade-in-delay">
                    <p class="text-sm xs:text-base sm:text-lg md:text-xl lg:text-2xl font-script text-purple-600">Forever yours,</p>
                    <p class="text-base xs:text-lg sm:text-xl md:text-2xl lg:text-3xl font-script text-pink-500">Your Devoted Love ðŸ’•</p>
                </div>
            </div>
        </div>
    </section>

<script>
  const loveLetterText = `My Dearest Love,

Happy Birthday to the most incredible person who has ever walked into my life. Four months ago, you made a choice that changed everythingâ€”you chose me over everyone else, chose love over distance, chose us over convenience. In a world where you could have anyone, where every guy at your college dreams of being with you, where even professors know your name and your brilliance, you decided that what we have is worth every tear, every lonely night, every sacrifice. That decision, my darling, is the most romantic thing anyone has ever done for me.

I know this journey isn't easy for you. I see it in your eyes during our video calls sometimesâ€”that hidden sadness when you watch couples around campus doing all the things we dream about. I know you cry alone in your hostel room, thinking about us, about the miles between us, about how unfair it sometimes feels. But sweetheart, don't hide those tears from me. Your pain is my pain, your struggles are mine to share. You are incredibly strong, but you don't have to carry everything alone.

Every single day I wake up amazed by your courage, by the way you choose us again and again despite having easier options right there in front of you. You could walk out of your hostel and find someone who can hold your hand immediately, someone who can take you on dates without a screen between you. But instead, you choose to wait for me, to build something real and deep with me. That kind of love, that kind of commitmentâ€”it's extraordinary, and it makes me fall in love with you more every day.

The day we finally close this distance will be the most magical day of our lives, but until then, I want you to know that I am with you in every moment. When you laugh, I'm celebrating with you. When you cry, I'm holding you in my heart. When you feel lonely, remember that somewhere I'm thinking of you, dreaming of you, loving you with everything I have. You are not just my girlfriendâ€”you are my heart walking around in another city, and no distance will ever change how deeply, completely, and eternally I love you. Happy Birthday, my beautiful girl.`;

  let typewriterInterval;
  let isTypewriterActive = false;

  function startTypewriter() {
    if (isTypewriterActive) return;

    const textElement = document.getElementById("typewriter-text");
    if (!textElement) return;

    let i = 0;
    isTypewriterActive = true;
    textElement.innerHTML = '<span id="cursor" class="animate-pulse">|</span>';

    const speed = window.innerWidth < 375 ? 20 : window.innerWidth < 768 ? 30 : 50;

    typewriterInterval = setInterval(() => {
      if (i < loveLetterText.length) {
        let currentText = loveLetterText.slice(0, i + 1);
        // Convert line breaks to HTML breaks for proper paragraph display
        currentText = currentText.replace(/\n/g, '<br>');
        textElement.innerHTML = currentText + '<span id="cursor" class="animate-pulse">|</span>';
        i++;
      } else {
        clearInterval(typewriterInterval);
      }
    }, speed);
  }

  window.triggerLetter = function () {
    const section = document.getElementById("letter");
    const textElement = document.getElementById("typewriter-text");

    if (section) {
      // Scroll immediately
      const offset = window.innerWidth < 768 ? 60 : 80;
      const top = section.offsetTop - offset;
      window.scrollTo({ top, behavior: 'smooth' });

      // Close mobile menu if open
      if (window.innerWidth < 1024 && typeof toggleMobileMenu === "function") {
        toggleMobileMenu(false);
      }

      // Start typewriter right away if target is available
      if (textElement && !isTypewriterActive) {
        startTypewriter();
      } else {
        // Try again every 100ms for 2s max
        let attempts = 0;
        const interval = setInterval(() => {
          const retryTarget = document.getElementById("typewriter-text");
          if (retryTarget && !isTypewriterActive) {
            startTypewriter();
            clearInterval(interval);
          }
          if (++attempts > 20) clearInterval(interval);
        }, 100);
      }
    }
  };
</script>
 
</body>
</html>